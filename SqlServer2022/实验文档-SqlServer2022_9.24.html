<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SqlServer2022_9.24</title>
  <link rel="shortcut icon" href="../ico/cat.ico">
  <link rel="stylesheet" href="../css/system-time.css">
  <link rel="stylesheet" href="../css/home-link.css">
  <link rel="stylesheet" href="../css/body.css">
  <link rel="stylesheet" href="../css/back-to-top.css"> <!-- 引入back-to-top.css -->
  <style>
    h1 {
      text-align: center;
      color: #333333;
    }

    .image-container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 80vh;
      margin: 20px 0;
      width: 100%;
      position: relative;
    }

    .image-container img {
      max-height: 100%;
      max-width: 100%;
      object-fit: cover;
      transition: transform 0.5s ease;
      cursor: pointer;
    }

    .zoomed {
      transform: scale(1.5);
      transition: transform 0.5s ease;
    }
  </style>
</head>

<body>

  <h1>实验文档-SqlServer2022_9.24</h1>
  <div id="gallery"></div>
  <div id="system-time"></div>
  <button id="back-to-top" class="back-to-top">返回顶部</button>
  <script>
    let zoomedImage = null; // 跟踪当前放大的图片

    const images = [
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-1.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-2.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-3.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-4.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-5.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-6.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-7.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-8.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-9.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-10.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-11.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-12.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-13.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-14.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-15.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-16.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-17.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-18.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-19.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-20.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-21.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-22.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-23.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-24.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-25.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-26.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-27.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-28.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-29.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-30.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-31.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-32.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-33.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-34.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-35.jpg",
      "../picture/SqlServer2022/9.24/SqlServer2022_9.24-36.jpg"
    ];

    const gallery = document.getElementById('gallery');

    images.forEach(src => {
      const container = document.createElement('div');
      container.className = 'image-container';

      const img = document.createElement('img');
      img.src = src;
      img.alt = '图片';
      img.onclick = (event) => {
        event.stopPropagation();
        zoomImage(img);
      };

      container.appendChild(img);
      gallery.appendChild(container);
    });

    function zoomImage(img) {
      // 如果当前有放大的图片，先恢复它
      if (zoomedImage && zoomedImage !== img) {
        zoomedImage.classList.remove('zoomed');
      }

      img.classList.toggle('zoomed');
      zoomedImage = img.classList.contains('zoomed') ? img : null;

      if (img.classList.contains('zoomed')) {
        img.parentNode.onclick = () => {
          img.classList.remove('zoomed'); // 点击容器关闭缩放
          zoomedImage = null;
        };
      } else {
        img.parentNode.onclick = null; // 解除点击容器的事件
      }
    }

    // 监听页面滚动，自动恢复放大的图片
    window.onscroll = () => {
      if (zoomedImage) {
        zoomedImage.classList.remove('zoomed');
        zoomedImage = null;
      }
    };

    // 在所有图片之后添加链接
    const homeLink = document.createElement('a');
    homeLink.href = "../shouye.html";
    homeLink.className = "home-link";
    homeLink.textContent = "首页";

    const blogLink = document.createElement('a');
    blogLink.href = "https://xm666.eu.org";
    blogLink.className = "home-link";
    blogLink.textContent = "XM博客";

    gallery.appendChild(homeLink);
    gallery.appendChild(blogLink);

    const backToTopButton = document.getElementById('back-to-top');
  </script>
  <script src="../js/updateTime.js"></script>
  <script src="../js/backToTop.js"></script> <!-- 引入返回顶部功能 -->
</body>

</html>